<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="author" content="IE会死吗" />
	<meta name="description" content="会死的" />
	<meta name="keywords" content="希望早点死" />
	<title>Document</title>
	<link rel="stylesheet" href="./style/reset.css" />
	<link rel="stylesheet" href="./style/risk_entry.css" />
</head>
<body>
	<div id="risk_entry">
		<div id="bg_earth"></div>
		<ul id="entry_modules">
			<li id="threat_situation">
				<a href="javascript:;">
					<h2 class="title">威胁态势感知</h2>
					<h3 class="subtitle">Threat situation</h3>
					<div class="icon_c"></div>
					<div class="icon"></div>
					<div class="svg_box">
						<svg y="0px" width="540" height="160" viewBox="0 0 540 160">
					<g transform="translate(-128 -64) scale(5 4.6)">
						<g class="stroke_line">
							<path fill-rule='evenodd' clip-rule='evenodd' stroke='#00dcd9' stroke-width='0.2' d="M50.034,38.665h35.225"/>


							<path fill-rule='evenodd' clip-rule='evenodd' fill='none' stroke='#00dcd9' stroke-width='0.3' d="M27.499,37.402h8.252"/>
							<!-- 这里是三段弧 -->
							<path fill-rule='evenodd' clip-rule='evenodd' fill='none'stroke=' #00dcd9' stroke-width='0.2' d="M37.338,24.455l0.952,0.947h14.02l0.952-0.947"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='none'stroke=' #3988ff' stroke-width='0.2' d="M36.069,23.191h19.416l2.539,2.526h11.999"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='none'stroke='#00dcd9' stroke-width='0.2' d="M34.799,23.191l0.952,0.947h19.416l2.539,2.526h12.316l0.952-0.947
								l46.865-0.038l3.6,3.6v5.28"/>
						</g>
					<!-- 	<g class="copy_path" >
							<path fill-rule='evenodd' clip-rule='evenodd' fill='none'stroke='red' stroke-width='0.2' d="M34.799,23.191l0.952,0.947h19.416l2.539,2.526h12.316l0.952-0.947
								l46.865-0.038l3.6,3.6v5.28"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='none' stroke='red' stroke-width='0.3' d="M27.499,37.402h8.252"/>
							<path fill-rule='evenodd' clip-rule='evenodd' stroke='red' stroke-width='0.2' d="M50.034,38.665h35.225"/>
						</g> -->
						<g class="dash_line">

							<path fill-rule='evenodd' clip-rule='evenodd' fill='none' stroke='#00dcd9' stroke-width='0.2' stroke-dasharray='0.4' d="M36.069,37.44L67.68,37.44"/>
						</g>
						<g class='fill_wrap'>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#00dcd9' d="M84.72,38h1.4v1.4h-1.4V38z"/>
							<!-- 这里是六个方块 -->
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#00dcd9' d="M80.242,40.244l0.626-0.947h0.643l-0.751,0.947H80.242z"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#00dcd9' d="M78.337,40.244l0.626-0.947h1.278l-0.751,0.947H78.337z"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#00dcd9' d="M74.204,40.244l0.626-0.947h3.507l-0.751,0.947H74.204z"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#00dcd9' d="M69.435,40.244l0.626-0.947h4.46l-0.752,0.947H69.435z"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#3988ff' d="M48.764,40.244l0.626-0.947h20.044l-0.751,0.947H48.764z"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#3988ff' d="M25.277,40.56l1.587-2.21h22.535l-1.904,2.21H25.277z"/>
							<!-- 左上角两个方块 -->
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#00dcd9' d="M26.64,24.72l0.77,1.2h6.67v-1.2H26.64z"/>
							<path fill-rule='evenodd' clip-rule='evenodd' fill='#3988ff' d="M24.96,22.56l0.952,1.579h8.252V22.56H24.96z"/>
						</g>


					</g>
					<!-- <g class="text_path">

						<text fill="rgba(255,255,255,1)" stroke='none' transform="scale(.092 .092)" x="2800" y="1000" font-family='TCSYSTEM' font-size='200'>
							Threat Situation
						</text>
					</g> -->

					</svg>
					</div>
				</a>
			</li>
			<li id="transaction_fraud">
				<a href="javascript:;">
					<h2 class="title">交易欺诈感知</h2>
					<h3 class="subtitle">Transaction fraud</h3>
					<div class="icon_c"></div>
					<div class="icon"></div>
					<div class="svg_box">
						<svg y="0px" width="510" height="160" viewBox="0 0 510 160">
				<g transform="translate(-120 -76) scale(5 5.4)">


					<g class="stroke_line">
						<!-- 上面的两线 -->
						<path fill="none" stroke="#3988ff" stroke-width="0.2" d="M122.286,23.847h-7.62l-1.345-1.348h-29.43l-1.345,1.348H24.719l-2.399,2.4"/>
						<!-- 两断线 -->
						<path fill="none" stroke="#00dcd9" stroke-width="0.3" d="M121.839,35.346h-13.896l4.034,4.045h-23.31"/>
					</g>

					<g class="dash_line">
						<!-- 上面的两线 -->
						<path fill="none" stroke="#3988ff" stroke-width="0.2" stroke-dasharray="0.4" d="M81.6,22.8H37.68"/>
						<!-- 两断线 -->
						<path fill="none" stroke="#00dcd9" stroke-width="0.2" stroke-dasharray="0.4" d="M87.77,39.391H47.874"/>
					</g>

					<g class="fill_wrap">
						<!-- 上面的两块 -->
						<path fill="#3988ff" d="M123.6,21.601l-1.345,1.348h-7.172l-1.346-1.348H123.6z"/>
						<path fill="#00dcd9" d="M25.92,22.08H37.44l-0.961,0.96H24.96L25.92,22.08z"/>

						<!-- 五个方块 -->
						<g transform="translate(0 0.3)">
							<path fill="#00dcd9" d="M88.8,39.841h0.48L88.319,40.8H87.84L88.8,39.841z"/>
							<path fill="#00dcd9" d="M90,39.841h0.96L90,40.8h-0.96L90,39.841z"/>
							<path fill="#00dcd9" d="M91.68,39.841h2.4L93.12,40.8h-2.4L91.68,39.841z"/>
							<path fill="#00dcd9" d="M94.8,39.841h4.561L98.399,40.8h-4.56L94.8,39.841z"/>
							<path fill="#3988ff" d="M100.079,39.841H111.6l-0.96,0.959H99.12L100.079,39.841z"/>
						</g>
					</g>
					<g class="short_stroke">
						<!-- 一堆斜线 -->
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M117.948,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M116.155,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M112.569,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M114.362,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M110.776,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M105.845,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M104.052,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M100.466,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M102.26,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M98.673,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M96.88,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M95.087,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M91.501,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M93.294,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M89.708,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M87.914,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M86.12,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M82.534,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M84.327,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M80.741,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M78.948,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M77.155,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M73.569,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M75.362,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M71.776,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M69.983,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M68.19,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M64.604,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M66.396,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M62.811,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M61.018,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M59.225,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M55.638,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M57.432,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M53.845,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M52.052,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M48.466,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M50.26,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M46.673,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M44.852,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M41.266,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M43.059,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M39.473,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M37.653,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M34.065,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M35.858,35.975l2.242,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M32.272,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M30.452,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M26.866,35.975l2.241,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M28.659,35.975l2.24,2.246"></path>
						<path fill="none" stroke="#17abd9" stroke-width="0.3" d="M25.073,35.975l2.241,2.246"></path>
					</g>

				</g>
			</svg>
					</div>
				</a>
			</li>
			<li id="brush_vote">
				<a href="javascript:;">
					<h2 class="title">刷单刷票感知</h2>
					<h3 class="subtitle">Brush vote</h3>
					<div class="icon_c"></div>
					<div class="icon"></div>
					<div class="svg_box">
						<svg y="0px" width="540" height="160" viewBox="0 0 540 160">
				<g transform="translate(-150 -66) scale(5 4.6)">

					<g class="stroke_line">
						<!-- 底线 -->
						<path fill="none" stroke="#3988ff" stroke-width="0.3" d="M32.272,40.885h16.219l2.516-2.469H71.86"/>
						<path fill="none" stroke="#00dcd9" stroke-width="0.3" d="M30.581,41.265l1.544-1.523h15.833l1.597-1.566"/>
						<!-- 外勾线 -->
						<path fill="none" stroke="#00dcd9" stroke-width="0.24" d="M113.381,23.535h-37.92"/>
						<path fill="none" stroke="#00dcd9" stroke-width="0.24" d="M108.101,24.495h5.76l2.16,2.16v11.28l-2.462,2.463"/>
						<!-- 上两横 -->
						<path fill="none" stroke="#00dcd9" stroke-width="0.24" d="M30.341,22.575h35.76"/>
					</g>

					<g class="fill_wrap">
						<!-- 底线 -->
						<path fill="#3988ff" d="M33.276,38.176h15.306l-0.775,0.719H32.502L33.276,38.176z"/>
						<!-- 小方块 -->
						<path fill="#00dcd9" stroke="#00dcd9" stroke-width="0.2" d="M87.94,39.135h1.2v1.201h-1.2V39.135z"/>
						<!-- 五方块 -->
						<g transform="translate(0 -0.2)">
							<path fill="#00dcd9" d="M49.78,21.135h-0.959l0.959,0.96h0.961L49.78,21.135z" />
							<path fill="#00dcd9" d="M47.86,21.135h-0.959l0.959,0.96h0.961L47.86,21.135z"/>
							<path fill="#00dcd9" d="M45.94,21.135h-0.959l0.959,0.96h0.961L45.94,21.135z"/>
							<path fill="#00dcd9" d="M44.021,21.135h-0.959l0.959,0.96h0.961L44.021,21.135z"/>
							<path fill="#3988ff" d="M41.989,21.135H29.14l1.071,0.96h12.851L41.989,21.135z"/>
						</g>
					</g>

					<g class="dash_line">
						<path fill="none" stroke="#00dcd9" stroke-width="0.4" stroke-dasharray="0.4" d="M51.94,39.615h35.761"/>
						<!-- 上两横 -->
						<path fill="none" stroke="#00dcd9" stroke-width="0.2" stroke-dasharray="0.4" d="M66.821,22.575h45.84"/>
					</g>
				</g>


			</svg>
					</div>
				</a>
			</li>
		</ul>

	</div>
	<script src="./js/animate.js"></script>
	<script src="./libs/jquery-3.1.0.js"></script>
	<script>
		// 这里写一个函数
		var onLineAnimate = function(eles, firstDelay, durationDelay, callback) {

			var index = 0;
			eles.timer = null;
			setTimeout(function() {
				timer = setInterval(function() {
					if (index < eles.length) {
						callback(eles[index]);
						index++;
					} else {
						clearInterval(eles.timer);
					}
				}, durationDelay);
			}, firstDelay)
		}



		var icon_1_animate = function() {


			var fn_stroke_l = function(ele) {
				Math.animation(400, 0, 2000, 'Circ.easeInOut', function(value) {
					ele.setAttribute('stroke-dashoffset', value);
				});
			}

			var fn_fill_w = function(ele) {
				Math.animation(-60, 0, 1000, 'Elastic.easeInOut', function(value) {
					ele.setAttribute('transform', 'translate(' + value + ' 0)');
				});
			}

			var fn_stroke_d = function(ele) {
				Math.animation(50, 0, 1000, 'Circ.easeInOut', function(value) {
					ele.setAttribute('stroke-dashoffset', value + 0.4);
					ele.setAttribute('stroke-dasharray', value + 0.4);
					// ele.setAttribute('stroke-dasharray', value + 0.4);
				});

			}

			var stroke_line_path = document.querySelectorAll('#threat_situation .stroke_line path');
			for (var i = 0; i < stroke_line_path.length; i++) {
				stroke_line_path[i].setAttribute('stroke-dashoffset', 400);
				stroke_line_path[i].setAttribute('stroke-dasharray', 400);
			};


			var fill_wrap_path = document.querySelectorAll('#threat_situation .fill_wrap path')

			for (var j = 0; j < fill_wrap_path.length; j++) {
				fill_wrap_path[j].setAttribute('transform', 'translate(-120 0)');
			};


			var dash_line_path = document.querySelectorAll('#threat_situation .dash_line path');
			for (var k = 0; k < dash_line_path.length; k++) {
				dash_line_path[k].setAttribute('stroke-dashoffset', 50.4);
				dash_line_path[k].setAttribute('stroke-dasharray', 50.4);
			};

			onLineAnimate(stroke_line_path, 200, 20, fn_stroke_l);
			onLineAnimate(fill_wrap_path, 200, 50, fn_fill_w);
			onLineAnimate(dash_line_path, 200, 20, fn_stroke_d);
		}


		icon_1_animate();


		var icon_2_animate = function() {

			var fn_stroke_l = function(ele) {
				Math.animation(400, 0, 2000, 'Circ.easeInOut', function(value) {
					ele.setAttribute('stroke-dashoffset', value);
				});
			}

			var fn_fill_w = function(ele) {
				Math.animation(120, 0, 1400, 'Elastic.easeInOut', function(value) {
					ele.setAttribute('transform', 'translate(' + value + ' 0)');
				});
			}

			var fn_stroke_d = function(ele) {
				Math.animation(50, 0, 1000, 'Circ.easeInOut', function(value) {
					ele.setAttribute('stroke-dashoffset', value + 0.4);
					ele.setAttribute('stroke-dasharray', value + 0.4);
					// ele.setAttribute('stroke-dasharray', value + 0.4);
				});
			}

			var fn_stroke_s = function(ele) {
				Math.animation(40, 0, 1000, 'Circ.easeInOut', function(value) {
					ele.setAttribute('stroke-dashoffset', value);
				});
			}

			var stroke_line_path = document.querySelectorAll('#transaction_fraud .stroke_line path');
			for (var i = 0; i < stroke_line_path.length; i++) {
				stroke_line_path[i].setAttribute('stroke-dashoffset', -400);
				stroke_line_path[i].setAttribute('stroke-dasharray', 400);
			};


			var fill_wrap_path = document.querySelectorAll('#transaction_fraud .fill_wrap path')

			for (var j = 0; j < fill_wrap_path.length; j++) {
				fill_wrap_path[j].setAttribute('transform', 'translate(120 0)');
			};


			var dash_line_path = document.querySelectorAll('#transaction_fraud .dash_line path');
			for (var k = 0; k < dash_line_path.length; k++) {
				dash_line_path[k].setAttribute('stroke-dashoffset', 50.4);
				dash_line_path[k].setAttribute('stroke-dasharray', 50.4);
			};


			var short_stroke_path = document.querySelectorAll('#transaction_fraud .short_stroke path');

			for (var l = 0; l < short_stroke_path.length; l++) {
				short_stroke_path[l].setAttribute('stroke-dashoffset', 40);
				short_stroke_path[l].setAttribute('stroke-dasharray', 40);
			};

			onLineAnimate(stroke_line_path, 400, 20, fn_stroke_l);
			onLineAnimate(fill_wrap_path, 0, 50, fn_fill_w);
			onLineAnimate(dash_line_path, 400, 20, fn_stroke_d);
			onLineAnimate(short_stroke_path, 400, 5, fn_stroke_s);
		}

		icon_2_animate();




		var icon_3_animate = function() {

			var fn_stroke_l = function(ele) {
				Math.animation(400, 0, 2000, 'Circ.easeInOut', function(value) {
					ele.setAttribute('stroke-dashoffset', value);
				});
			}

			var fn_fill_w = function(ele) {
				Math.animation(-120, 0, 1000, 'Elastic.easeInOut', function(value) {
					ele.setAttribute('transform', 'translate(' + value + ' 0)');
				});
			}

			var fn_stroke_d = function(ele) {
				Math.animation(50, 0, 800, 'Circ.easeInOut', function(value) {
					ele.setAttribute('stroke-dashoffset', value + 0.4);
					ele.setAttribute('stroke-dasharray', value + 0.4);
					// ele.setAttribute('stroke-dasharray', value + 0.4);
				});
			}

			var stroke_line_path = document.querySelectorAll('#brush_vote .stroke_line path');
			for (var i = 0; i < stroke_line_path.length; i++) {
				stroke_line_path[i].setAttribute('stroke-dashoffset', 400);
				stroke_line_path[i].setAttribute('stroke-dasharray', 400);
			};


			var fill_wrap_path = document.querySelectorAll('#brush_vote .fill_wrap path')

			for (var j = 0; j < fill_wrap_path.length; j++) {
				fill_wrap_path[j].setAttribute('transform', 'translate(-120 0)');
			};


			var dash_line_path = document.querySelectorAll('#brush_vote .dash_line path');
			for (var k = 0; k < dash_line_path.length; k++) {
				dash_line_path[k].setAttribute('stroke-dashoffset', 50.4);
				dash_line_path[k].setAttribute('stroke-dasharray', 50.4);
			};

			onLineAnimate(stroke_line_path, 700, 20, fn_stroke_l);
			onLineAnimate(fill_wrap_path, 530, 50, fn_fill_w);
			onLineAnimate(dash_line_path, 700, 0, fn_stroke_d);
		}


		icon_3_animate();


		(function() {


			var lFollowX = 0,
				lFollowY = 0,
				x = 0,
				y = 0,
				friction = 1 / 30;

			function moveBackground() {
				x += (lFollowX - x) * friction;
				y += (lFollowY - y) * friction;

				translate = 'translate(' + x + 'px, ' + y + 'px) scale(1)';

				$('#bg_earth').css({
					'-webit-transform': translate,
					'-moz-transform': translate,
					'transform': translate
				});
				if (window.requestAnimationFrame) {
					window.requestAnimationFrame(moveBackground);

				} else {
					setTimeout(moveBackground, 17);
				}

			}

			$(window).on('mousemove click', function(e) {

				var lMouseX = Math.max(-100, Math.min(100, $(window).width() / 2 - e.clientX));
				var lMouseY = Math.max(-100, Math.min(100, $(window).height() / 2 - e.clientY));
				lFollowX = (20 * lMouseX) / 140; // 100 : 12 = lMouxeX : lFollow
				lFollowY = (10 * lMouseY) / 140;

			});

			moveBackground();


		})();
	</script>
</body>
</html>
